<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V2R Builds - Transforming Vision to Reality</title>
    <meta name="description"
        content="V2R Builds revolutionizes home renovation with 3D renderings, accurate estimates, and a vetted contractor network in Boston and Framingham.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=3">
    <link rel="icon" type="image/png" href="images/favicon.png">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <div class="nav-left">
                <a href="#" class="logo">
                    <img src="images/logo-transparent.png" alt="V2R Logo" class="logo-icon">
                    V2R <span class="highlight">Builds</span>
                </a>
                <ul class="nav-links desktop-only">
                    <!-- Links removed as requested -->
                </ul>
            </div>
            <div class="nav-right">
                <!-- CTA removed as requested -->
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu">
        <a href="#approach" class="mobile-link">Why V2R?</a>
        <a href="#what-you-get" class="mobile-link">What You Get</a>
        <a href="#contact" class="btn-primary mobile-btn">Join Early Access List</a>
    </div>

    <!-- Hero Section -->
    <header class="hero">
        <video autoplay muted loop playsinline preload="auto" class="hero-video" poster="images/hero.png">
            <source src="videos/hero.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="animate-fade-in">Instant Estimates <span class="highlight">With AI</span></h1>
            <p class="animate-slide-up" style="animation-delay: 0.2s;">Record your walkthrough, speak naturally (even in
                Portugese), and let AI turn it into a clear, itemized, homeowner-ready estimate — before the
                conversation ends.</p>

            <div class="hero-buttons animate-slide-up" style="animation-delay: 0.6s;">
                <a href="#contact" class="btn-primary">
                    <i class="fa-solid fa-wand-magic-sparkles"></i> Join Early Access List
                </a>

            </div>
        </div>

        <div class="hero-visuals animate-fade-in" style="animation-delay: 0.4s;">
            <div class="phone-mockup recording-screen">
                <img src="images/hero-recording.png" alt="AI Recording Interface">
            </div>
            <div class="phone-mockup quote-screen">
                <img src="images/hero-quote.png" alt="Instant Quote Generated">
            </div>
        </div>
    </header>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stats-label">See immediate results</div>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-value highlight">+100%</span>
                    <div class="stat-details">
                        <span class="stat-text">Faster estimates delivered</span>
                        <span class="stat-sub">From walkthrough to proposal — same visit</span>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-value highlight">+1–2</span>
                    <div class="stat-details">
                        <span class="stat-text">More jobs closed per month</span>
                        <span class="stat-sub">By presenting estimates on-site</span>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-value highlight">2–4 hrs</span>
                    <div class="stat-details">
                        <span class="stat-text">Saved per estimate</span>
                        <span class="stat-sub">No back-and-forth, no quoting at night</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Value Gap & Solution Section -->
    <section class="value-gap-section" style="padding: 5rem 0; background: white;">
        <div class="container">


            <!-- V2R Estimate Tool Section -->
            <div class="estimate-tool-section" style="margin-bottom: 5rem; background: transparent;">
                <h2 class="section-title" style="text-align: center; font-size: 2.5rem; margin-bottom: 3rem;">V2R
                    Estimate Tool</h2>
                <div class="estimate-tool-grid">
                    <div class="estimate-tool-item fade-in">
                        <img src="images/screen1.png" alt="Site Walkthrough">
                    </div>
                    <div class="estimate-tool-item fade-in delay-1">
                        <img src="images/screen2.png" alt="Scope Review">
                    </div>
                    <div class="estimate-tool-item fade-in delay-2">
                        <img src="images/screen3.png" alt="Detailed Estimate">
                    </div>
                    <div class="estimate-tool-item fade-in delay-3">
                        <img src="images/screen4.png?v=2" alt="Final Quote">
                    </div>
                </div>
            </div>


        </div>
    </section>




    <div class="render-output-section" id="render-output" style="display: none;">
        <h3>Your Remodeled Space</h3>
        <div class="render-comparison">
            <div class="render-before">
                <span class="render-label">Before</span>
                <img id="render-before-img" alt="Before">
            </div>
            <div class="render-after">
                <span class="render-label">After</span>
                <div class="render-loading" id="render-loading">
                    <div class="spinner"></div>
                    <p>Creating your visualization...</p>
                    <small>This may take 10-15 seconds</small>
                </div>
                <img id="render-after-img" alt="After" style="display: none;">
            </div>
        </div>
        <div class="render-actions">
            <button type="button" class="btn-secondary" id="try-again-btn">
                <i class="fa-solid fa-rotate-right"></i> Try Another Vision
            </button>
            <a href="vision.html" class="btn-primary">
                <i class="fa-solid fa-paper-plane"></i> Get Professional Quote
            </a>
        </div>
    </div>
    </div>
    </div>
    </section>

    <!-- How It Works Section -->
    <section class="section how-it-works" style="background-color: var(--bg-light);">
        <div class="container">
            <div class="section-header">
                <h2>How It Works</h2>
            </div>
            <div class="how-it-works-grid"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-top: 2rem;">

                <!-- Step 1 -->
                <div class="step-card"
                    style="background: white; padding: 2.5rem 2rem; border-radius: 20px; border: 1px solid var(--border-light); box-shadow: var(--shadow-sm);">
                    <div
                        style="background: var(--primary); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: 700; margin-bottom: 1.5rem;">
                        1</div>
                    <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem; color: var(--text-main);">Select the Service
                    </h3>
                    <p style="color: var(--text-secondary); margin: 0;">Choose the type of project and scope.</p>
                </div>

                <!-- Step 2 -->
                <div class="step-card"
                    style="background: white; padding: 2.5rem 2rem; border-radius: 20px; border: 1px solid var(--border-light); box-shadow: var(--shadow-sm);">
                    <div
                        style="background: var(--primary); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: 700; margin-bottom: 1.5rem;">
                        2</div>
                    <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem; color: var(--text-main);">Adjust Labor &
                        Materials</h3>
                    <p style="color: var(--text-secondary); margin: 0;">Modify hours, crew size, and materials in real
                        time.</p>
                </div>

                <!-- Step 3 -->
                <div class="step-card"
                    style="background: white; padding: 2.5rem 2rem; border-radius: 20px; border: 1px solid var(--border-light); box-shadow: var(--shadow-sm);">
                    <div
                        style="background: var(--primary); color: white; width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: 700; margin-bottom: 1.5rem;">
                        3</div>
                    <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem; color: var(--text-main);">Send a Professional
                        Estimate</h3>
                    <p style="color: var(--text-secondary); margin: 0;">Instantly share a branded PDF with the client.
                    </p>
                </div>

            </div>
        </div>
    </section>





    <!-- What Makes V2R Different Section -->
    <section class="section different-section" style="padding: 5rem 0; background: white;">
        <div class="container">
            <!-- Centered Text Content -->
            <div class="different-content" style="max-width: 800px; margin: 0 auto; text-align: center;">
                <h2 class="section-title" style="margin-bottom: 3rem; font-size: 2.5rem;">What Makes V2R Different</h2>
                <ul class="different-list"
                    style="display: flex; flex-direction: column; gap: 1.5rem; text-align: left; max-width: 600px; margin: 0 auto;">
                    <li
                        style="display: flex; align-items: center; gap: 1rem; font-size: 1.1rem; color: var(--text-secondary);">
                        <i class="fa-solid fa-circle-check"
                            style="color: var(--primary); font-size: 1.25rem; flex-shrink: 0;"></i>
                        Built by contractors, not software companies
                    </li>
                    <li
                        style="display: flex; align-items: center; gap: 1rem; font-size: 1.1rem; color: var(--text-secondary);">
                        <i class="fa-solid fa-circle-check"
                            style="color: var(--primary); font-size: 1.25rem; flex-shrink: 0;"></i>
                        Real labor logic — hours, crews, productivity
                    </li>
                    <li
                        style="display: flex; align-items: center; gap: 1rem; font-size: 1.1rem; color: var(--text-secondary);">
                        <i class="fa-solid fa-circle-check"
                            style="color: var(--primary); font-size: 1.25rem; flex-shrink: 0;"></i>
                        Transparent pricing logic (no black-box AI)
                    </li>
                    <li
                        style="display: flex; align-items: center; gap: 1rem; font-size: 1.1rem; color: var(--text-secondary);">
                        <i class="fa-solid fa-circle-check"
                            style="color: var(--primary); font-size: 1.25rem; flex-shrink: 0;"></i>
                        Designed for residential GCs & remodelers
                    </li>
                    <li
                        style="display: flex; align-items: center; gap: 1rem; font-size: 1.1rem; color: var(--text-secondary);">
                        <i class="fa-solid fa-circle-check"
                            style="color: var(--primary); font-size: 1.25rem; flex-shrink: 0;"></i>
                        Sales-focused, not just estimating software
                    </li>
                </ul>
            </div>

            <!-- Who This Is For Section -->
            <div class="who-this-is-for"
                style="margin-top: 6rem; max-width: 900px; margin-left: auto; margin-right: auto;">
                <h2 class="section-title" style="margin-bottom: 3rem; font-size: 2.5rem; text-align: center;">Who This
                    Is For</h2>
                <div class="who-grid"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 3rem;">

                    <!-- Perfect For -->
                    <div class="who-card"
                        style="background: #f0fdf4; padding: 2.5rem; border-radius: 20px; border: 1px solid #bbf7d0;">
                        <h3
                            style="color: #166534; font-size: 1.5rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <i class="fa-solid fa-check-circle"></i> Perfect For
                        </h3>
                        <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 1rem;">
                            <li
                                style="display: flex; align-items: center; gap: 0.75rem; color: #14532d; font-weight: 500;">
                                <i class="fa-solid fa-check" style="color: #22c55e; font-size: 0.9rem;"></i> Residential
                                General Contractors
                            </li>
                            <li
                                style="display: flex; align-items: center; gap: 0.75rem; color: #14532d; font-weight: 500;">
                                <i class="fa-solid fa-check" style="color: #22c55e; font-size: 0.9rem;"></i> Remodelers
                            </li>
                            <li
                                style="display: flex; align-items: center; gap: 0.75rem; color: #14532d; font-weight: 500;">
                                <i class="fa-solid fa-check" style="color: #22c55e; font-size: 0.9rem;"></i> Small to
                                mid-size crews (1–10 people)
                            </li>
                        </ul>
                    </div>

                    <!-- Not For -->
                    <div class="who-card"
                        style="background: #fef2f2; padding: 2.5rem; border-radius: 20px; border: 1px solid #fecaca;">
                        <h3
                            style="color: #991b1b; font-size: 1.5rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <i class="fa-solid fa-xmark-circle"></i> Not For
                        </h3>
                        <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 1rem;">
                            <li style="display: flex; align-items: center; gap: 0.75rem; color: #7f1d1d; opacity: 0.8;">
                                <i class="fa-solid fa-xmark" style="color: #ef4444; font-size: 0.9rem;"></i> Large
                                commercial projects
                            </li>
                            <li style="display: flex; align-items: center; gap: 0.75rem; color: #7f1d1d; opacity: 0.8;">
                                <i class="fa-solid fa-xmark" style="color: #ef4444; font-size: 0.9rem;"></i> Engineering
                                firms
                            </li>
                            <li style="display: flex; align-items: center; gap: 0.75rem; color: #7f1d1d; opacity: 0.8;">
                                <i class="fa-solid fa-xmark" style="color: #ef4444; font-size: 0.9rem;"></i> Enterprise
                                estimating departments
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- CTA / Contact Section -->
    <section id="contact" class="section contact">
        <div class="container contact-container">

            <div class="contact-form-wrapper glass-card fade-in-right" style="margin: 0 auto;">
                <h3>Start Your Conversation</h3>
                <form class="contact-form" id="contact-form" action="https://formspree.io/f/xyzaplql" method="POST">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" placeholder="Your Name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="Your Email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="tel" id="phone" name="phone" placeholder="Your Phone Number" required>
                    </div>
                    <!-- Hidden field for multiple recipients -->
                    <!-- Hidden field for subject -->
                    <input type="hidden" name="_subject" value="New V2R Builds Contact Form Submission">
                    <button type="submit" class="btn-primary full-width">Join Early Access List</button>
                </form>
                <div id="form-status"
                    style="display: none; margin-top: 15px; padding: 15px; border-radius: 10px; text-align: center;">
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container footer-content">
            <div class="footer-logo">V2R Builds</div>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <p>&copy; 2025 V2R Builds. All rights reserved.</p>
        </div>
    </footer>

    <!-- Multi-Step Form Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <span class="modal-title">Start Your Project</span>
                <button class="modal-close" id="modal-close"><i class="fa-solid fa-times"></i></button>
            </div>

            <div class="modal-body">
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>

                <form id="wizard-form" action="https://formspree.io/f/xyzaplql" method="POST">
                    <!-- Step 1: Project Type -->
                    <div class="form-step active" data-step="1">
                        <h3 class="step-question">What type of project are you planning?</h3>
                        <div class="option-grid">
                            <label class="option-card">
                                <input type="radio" name="project_type" value="Kitchen Remodel" hidden required>
                                <div class="option-icon"><i class="fa-solid fa-kitchen-set"></i></div>
                                <span class="option-text">Kitchen Remodel</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="project_type" value="Bathroom Renovation" hidden>
                                <div class="option-icon"><i class="fa-solid fa-bath"></i></div>
                                <span class="option-text">Bathroom Renovation</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="project_type" value="Basement Finishing" hidden>
                                <div class="option-icon"><i class="fa-solid fa-dungeon"></i></div>
                                <span class="option-text">Basement Finishing</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="project_type" value="Home Addition" hidden>
                                <div class="option-icon"><i class="fa-solid fa-house-chimney-medical"></i></div>
                                <span class="option-text">Home Addition</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="project_type" value="ADU" hidden>
                                <div class="option-icon"><i class="fa-solid fa-house-user"></i></div>
                                <span class="option-text">ADU</span>
                            </label>
                            <label class="option-card">
                                <input type="radio" name="project_type" value="Complete Transformation" hidden>
                                <div class="option-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                                <span class="option-text">Complete Transformation</span>
                            </label>
                        </div>
                    </div>

                    <!-- Step 2: Details -->
                    <div class="form-step" data-step="2">
                        <h3 class="step-question">Tell us a bit more about your vision.</h3>
                        <textarea class="form-input" name="message" rows="6"
                            placeholder="What are your goals? Do you have a timeline in mind?" required></textarea>
                    </div>

                    <!-- Step 3: Contact Info -->
                    <div class="form-step" data-step="3">
                        <h3 class="step-question">How can we reach you?</h3>
                        <input type="text" class="form-input" name="name" placeholder="Your Name" required>
                        <input type="email" class="form-input" name="email" placeholder="Your Email" required>
                        <input type="tel" class="form-input" name="phone" placeholder="Phone Number (Optional)">
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button class="btn-back" id="btn-back" style="visibility: hidden;">Back</button>
                <button class="btn-next" id="btn-next">Next</button>
            </div>
        </div>
    </div>

    <!-- Instant Rendering Script -->
    <script>
        // Secure API endpoint
        const API_BASE_URL = 'https://v2-r-builds.vercel.app/api';

        document.addEventListener('DOMContentLoaded', () => {
            // Elements
            const uploadBtn = document.getElementById('render-upload-btn');
            const imageInput = document.getElementById('render-image-input');
            const uploadPlaceholder = document.getElementById('render-upload-placeholder');
            const renderPreview = document.getElementById('render-preview');
            const previewImg = document.getElementById('render-preview-img');
            const removeBtn = document.getElementById('render-remove-btn');
            const descriptionTextarea = document.getElementById('render-description');
            const generateBtn = document.getElementById('generate-render-btn');
            const renderOutput = document.getElementById('render-output');
            const renderLoading = document.getElementById('render-loading');
            const beforeImg = document.getElementById('render-before-img');
            const afterImg = document.getElementById('render-after-img');
            const tryAgainBtn = document.getElementById('try-again-btn');

            let selectedFile = null;
            let uploadedImageUrl = null;

            // Upload button click
            uploadBtn.addEventListener('click', () => {
                imageInput.click();
            });

            // File selection
            imageInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file && file.type.startsWith('image/')) {
                    selectedFile = file;
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        previewImg.src = e.target.result;
                        uploadPlaceholder.style.display = 'none';
                        renderPreview.style.display = 'block';
                        checkFormReady();
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Remove image
            removeBtn.addEventListener('click', () => {
                selectedFile = null;
                uploadedImageUrl = null;
                imageInput.value = '';
                uploadPlaceholder.style.display = 'block';
                renderPreview.style.display = 'none';
                checkFormReady();
            });

            // Check if form is ready
            descriptionTextarea.addEventListener('input', checkFormReady);

            function checkFormReady() {
                const hasImage = selectedFile !== null;
                const hasDescription = descriptionTextarea.value.trim().length > 10;
                generateBtn.disabled = !(hasImage && hasDescription);
            }

            // Generate render
            generateBtn.addEventListener('click', async () => {
                try {
                    generateBtn.disabled = true;
                    generateBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processing...';

                    // Step 1: Upload image to Cloudinary
                    const reader = new FileReader();
                    const base64Promise = new Promise((resolve) => {
                        reader.onload = (e) => resolve(e.target.result);
                        reader.readAsDataURL(selectedFile);
                    });
                    const base64Data = await base64Promise;

                    const uploadResponse = await fetch(`${API_BASE_URL}/upload-image`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            file: base64Data,
                            folder: 'instant-renders',
                            tags: 'instant,auto-delete'
                        })
                    });

                    if (!uploadResponse.ok) {
                        throw new Error('Image upload failed');
                    }

                    const uploadData = await uploadResponse.json();
                    uploadedImageUrl = uploadData.url;

                    // Show output section with loading
                    renderOutput.style.display = 'block';
                    beforeImg.src = uploadedImageUrl;
                    renderLoading.style.display = 'flex';
                    afterImg.style.display = 'none';

                    // Scroll to output
                    renderOutput.scrollIntoView({ behavior: 'smooth', block: 'center' });

                    // Step 2: Generate render via Nano Banana
                    const renderResponse = await fetch(`${API_BASE_URL}/render`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            imageUrl: uploadedImageUrl,
                            userPrompt: descriptionTextarea.value.trim()
                        })
                    });

                    if (!renderResponse.ok) {
                        const errorData = await renderResponse.json();
                        throw new Error(errorData.message || 'Rendering failed');
                    }

                    const renderData = await renderResponse.json();

                    // Show result
                    renderLoading.style.display = 'none';
                    afterImg.src = renderData.renderUrl;
                    afterImg.style.display = 'block';

                    // If we got a description but no new image (Gemini Flash limitation), show it
                    if (renderData.description && renderData.renderUrl === uploadedImageUrl) {
                        const descriptionDiv = document.createElement('div');
                        descriptionDiv.className = 'render-ai-description';

                        // Check if there was a specific fallback reason (e.g. quota exceeded)
                        const fallbackNote = renderData.fallbackReason
                            ? `<span style="color: #d97706; font-weight: 600;"><i class="fa-solid fa-triangle-exclamation"></i> ${renderData.fallbackReason}</span>`
                            : '* Note: Image generation requires an upgraded plan. This is a conceptual description based on your vision.';

                        descriptionDiv.innerHTML = `
                            <div style="background: rgba(255,255,255,0.95); padding: 20px; border-radius: 12px; margin-top: 20px; border-left: 4px solid var(--primary); box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <h4 style="margin: 0 0 10px 0; color: var(--primary); display: flex; align-items: center; gap: 8px;">
                                    <i class="fa-solid fa-wand-magic-sparkles"></i> AI Design Concept
                                </h4>
                                <p style="margin: 0; line-height: 1.6; color: var(--text-main); font-size: 0.95rem;">
                                    ${renderData.description.replace(/\n/g, '<br>')}
                                </p>
                                <p style="margin-top: 12px; font-size: 0.8rem; color: var(--text-secondary); font-style: italic;">
                                    ${fallbackNote}
                                </p>
                            </div>
                        `;

                        // Remove existing description if any
                        const existingDesc = renderOutput.querySelector('.render-ai-description');
                        if (existingDesc) existingDesc.remove();

                        renderOutput.querySelector('.render-comparison').after(descriptionDiv);
                    }

                    // Reset button
                    generateBtn.innerHTML = '<i class="fa-solid fa-wand-magic-sparkles"></i> Generate Visualization';
                    generateBtn.disabled = false;

                } catch (error) {
                    console.error('Render error:', error);
                    alert(`Error: ${error.message || 'There was an error creating your visualization.'}`);
                    generateBtn.innerHTML = '<i class="fa-solid fa-wand-magic-sparkles"></i> Generate Visualization';
                    generateBtn.disabled = false;
                    renderOutput.style.display = 'none';
                }
            });

            // Try again button
            tryAgainBtn.addEventListener('click', () => {
                renderOutput.style.display = 'none';
                selectedFile = null;
                uploadedImageUrl = null;
                imageInput.value = '';
                descriptionTextarea.value = '';
                uploadPlaceholder.style.display = 'block';
                renderPreview.style.display = 'none';
                generateBtn.disabled = true;

                // Scroll back to input
                document.getElementById('instant-render').scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>

    <script src="script.js"></script>
</body>

</html>