const translations = {
    en: {
        hero_title: "Instant Estimates <span class=\"highlight\">With AI</span>",
        hero_subtitle: "Record your walkthrough, speak naturally (even in Portuguese ðŸ‡§ðŸ‡·, or Spanish ðŸ‡ªðŸ‡¸), and let AI turn it into a clear, itemized, homeowner-ready estimate â€” before the conversation ends.",
        cta_join: "<i class=\"fa-solid fa-wand-magic-sparkles\"></i> Join Waitlist",
        stats_label: "See immediate results",
        stat_1_text: "Less time spent chasing missing details",
        stat_1_sub: "From walkthrough to proposal â€” same visit",
        stat_2_value: "47%",
        stat_2_text: "More deals closed",
        stat_2_sub: "By presenting estimates on-site",
        stat_3_value: "2â€“4 hrs",
        stat_3_text: "Saved per estimate",
        stat_3_sub: "No back-and-forth, no quoting at night",
        how_it_works_title: "How It Works",
        step_1_title: "Record Your Walk-Through",
        step_1_desc: "Choose the type of project and scope.",
        step_2_title: "Adjust Labor & Materials",
        step_2_desc: "Modify hours, crew size, and materials in real time.",
        step_3_title: "Send a Professional Estimate",
        step_3_desc: "Instantly share a branded PDF with the client.",
        diff_title: "What Makes V2E Different",
        diff_1: "Built by contractors, not software companies",
        diff_2: "Real labor logic â€” hours, crews, productivity",
        diff_3: "Transparent pricing logic (no black-box AI)",
        diff_4: "Designed for residential GCs & remodelers",
        diff_5: "Sales-focused, not just estimating software",
        who_title: "Who This Is For",
        perfect_for: "<i class=\"fa-solid fa-check-circle\"></i> Perfect For",
        perfect_1: "Residential General Contractors",
        perfect_2: "Remodelers",
        perfect_3: "Small to mid-size crews (1â€“10 people)",
        not_for: "<i class=\"fa-solid fa-xmark-circle\"></i> Not For",
        not_1: "Large commercial projects",
        not_2: "Engineering firms",
        not_3: "Enterprise estimating departments",
        contact_title: "See how fast your estimates can be!",
        label_name: "Name",
        placeholder_name: "Your Name",
        label_email: "Email",
        placeholder_email: "Your Email",
        label_phone: "Phone",
        placeholder_phone: "Your Phone Number",
        btn_submit: "Join Waitlist",
        footer_privacy: "Privacy Policy",
        footer_terms: "Terms of Service",
        footer_rights: "Â© 2025 V2E Builds. All rights reserved.",
        modal_title: "Start Your Project",
        modal_step1_q: "What type of project are you planning?",
        modal_step2_q: "Tell us a bit more about your vision.",
        modal_step2_placeholder: "What are your goals? Do you have a timeline in mind?",
        modal_step3_q: "How can we reach you?",
        btn_back: "Back",
        btn_next: "Next",
        opt_kitchen: "Kitchen Remodel",
        opt_bathroom: "Bathroom Renovation",
        opt_basement: "Basement Finishing",
        opt_addition: "Home Addition",
        opt_adu: "ADU",
        opt_transform: "Complete Transformation",
        qual_modal_title: "One Last Step!",
        qual_modal_subtitle: "Help us understand your needs so we can serve you better.",
        qual_q1: "What's your annual revenue and how long have you been in business?",
        qual_q1_placeholder: "e.g., $500K/year, 5 years in business",
        qual_q2: "How many estimates do you create per month, and what's your win rate?",
        qual_q2_placeholder: "e.g., 20 estimates/month, 30% win rate",
        qual_q3: "What's your biggest challenge or frustration with creating estimates?",
        qual_q3_placeholder: "Tell us what slows you down...",
        qual_q4: "How much time do you spend on each estimate, and what does that cost you?",
        qual_q4_placeholder: "e.g., 2-3 hours, costs $150 in time",
        qual_q5: "What's a fair monthly price for turning estimates from hours to minutes?",
        qual_q5_placeholder: "e.g., $50/month, $200/month, $500/month?",
        qual_btn_submit: "Submit"
    },
    pt: {
        hero_title: "OrÃ§amentos InstantÃ¢neos <span class=\"highlight\">Com IA</span>",
        hero_subtitle: "Grave o seu walkthrough, fale naturalmente (mesmo em PortuguÃªs ðŸ‡§ðŸ‡· ou Espanhol ðŸ‡ªðŸ‡¸) e deixe a IA transformar tudo num orÃ§amento claro, detalhado e pronto para o cliente â€” antes de a conversa terminar.",
        cta_join: "<i class=\"fa-solid fa-wand-magic-sparkles\"></i> Entrar na Lista de Espera",
        stats_label: "Veja resultados imediatos",
        stat_1_text: "Menos tempo correndo atrÃ¡s de detalhes",
        stat_1_sub: "Do walkthrough Ã  proposta â€” na mesma visita",
        stat_2_value: "47%",
        stat_2_text: "Mais negÃ³cios fechados",
        stat_2_sub: "Apresentando orÃ§amentos no local",
        stat_3_value: "2â€“4 hrs",
        stat_3_text: "Economizadas por orÃ§amento",
        stat_3_sub: "Sem vai-e-vem, sem orÃ§amentos Ã  noite",
        how_it_works_title: "Como Funciona",
        step_1_title: "Grave o Seu Walk-Through",
        step_1_desc: "Escolha o tipo de projeto e o escopo.",
        step_2_title: "Ajuste MÃ£o de Obra e Materiais",
        step_2_desc: "Modifique horas, equipe e materiais em tempo real.",
        step_3_title: "Envie um OrÃ§amento Profissional",
        step_3_desc: "Compartilhe instantaneamente um PDF com a sua marca para o cliente.",
        diff_title: "O Que Torna a V2E Diferente",
        diff_1: "Criado por empreiteiros, nÃ£o empresas de software",
        diff_2: "LÃ³gica real de trabalho â€” horas, equipes, produtividade",
        diff_3: "LÃ³gica de preÃ§os transparente (sem caixa-preta de IA)",
        diff_4: "Projetado para Empreiteiros Gerais e reformadores residenciais",
        diff_5: "Focado em vendas, nÃ£o apenas software de orÃ§amento",
        who_title: "Para Quem Ã‰ Isso",
        perfect_for: "<i class=\"fa-solid fa-check-circle\"></i> Perfeito Para",
        perfect_1: "Empreiteiros Gerais Residenciais",
        perfect_2: "Reformadores",
        perfect_3: "Equipes pequenas e mÃ©dias (1â€“10 pessoas)",
        not_for: "<i class=\"fa-solid fa-xmark-circle\"></i> NÃ£o Ã‰ Para",
        not_1: "Grandes projetos comerciais",
        not_2: "Firmas de engenharia",
        not_3: "Departamentos de orÃ§amento corporativos",
        contact_title: "Veja quÃ£o rÃ¡pidos seus orÃ§amentos podem ser!",
        label_name: "Nome",
        placeholder_name: "Seu Nome",
        label_email: "E-mail",
        placeholder_email: "Seu E-mail",
        label_phone: "Telefone",
        placeholder_phone: "Seu Telefone",
        btn_submit: "Entrar na Lista de Espera",
        footer_privacy: "PolÃ­tica de Privacidade",
        footer_terms: "Termos de ServiÃ§o",
        footer_rights: "Â© 2025 V2E Builds. Todos os direitos reservados.",
        modal_title: "Comece Seu Projeto",
        modal_step1_q: "Que tipo de projeto vocÃª estÃ¡ planejando?",
        modal_step2_q: "Conte-nos um pouco mais sobre sua visÃ£o.",
        modal_step2_placeholder: "Quais sÃ£o seus objetivos? VocÃª tem um prazo em mente?",
        modal_step3_q: "Como podemos entrar em contato?",
        btn_back: "Voltar",
        btn_next: "PrÃ³ximo",
        opt_kitchen: "Reforma de Cozinha",
        opt_bathroom: "Reforma de Banheiro",
        opt_basement: "Acabamento de PorÃ£o",
        opt_addition: "AmpliaÃ§Ã£o Residencial",
        opt_adu: "ADU (Unidade Habitacional AcessÃ³ria)",
        opt_transform: "TransformaÃ§Ã£o Completa",
        qual_modal_title: "Ãšltimo Passo!",
        qual_modal_subtitle: "Ajude-nos a entender suas necessidades para podermos atendÃª-lo melhor.",
        qual_q1: "Qual Ã© o seu faturamento anual e hÃ¡ quanto tempo vocÃª estÃ¡ no negÃ³cio?",
        qual_q1_placeholder: "ex., $500K/ano, 5 anos no negÃ³cio",
        qual_q2: "Quantos orÃ§amentos vocÃª cria por mÃªs e qual Ã© a sua taxa de conversÃ£o?",
        qual_q2_placeholder: "ex., 20 orÃ§amentos/mÃªs, 30% de conversÃ£o",
        qual_q3: "Qual Ã© o seu maior desafio ou frustraÃ§Ã£o ao criar orÃ§amentos?",
        qual_q3_placeholder: "Conte-nos o que te atrasa...",
        qual_q4: "Quanto tempo vocÃª gasta em cada orÃ§amento e quanto isso te custa?",
        qual_q4_placeholder: "ex., 2-3 horas, custa $150 em tempo",
        qual_q5: "Qual seria um preÃ§o mensal justo para transformar orÃ§amentos de horas para minutos?",
        qual_q5_placeholder: "ex., $50/mÃªs, $200/mÃªs, $500/mÃªs?",
        qual_btn_submit: "Enviar"
    },
    es: {
        hero_title: "Presupuestos InstantÃ¡neos <span class=\"highlight\">Con IA</span>",
        hero_subtitle: "Graba tu recorrido, habla con naturalidad (incluso en portuguÃ©s ðŸ‡§ðŸ‡· o espaÃ±ol ðŸ‡ªðŸ‡¸) y deja que la IA lo convierta en un presupuesto claro, detallado y listo para el cliente â€” antes de que termine la conversaciÃ³n.",
        cta_join: "<i class=\"fa-solid fa-wand-magic-sparkles\"></i> Unirse a la Lista de Acceso",
        stats_label: "Ver resultados inmediatos",
        stat_1_text: "Menos tiempo persiguiendo detalles",
        stat_1_sub: "Del recorrido a la propuesta â€” en la misma visita",
        stat_2_value: "47%",
        stat_2_text: "MÃ¡s tratos cerrados",
        stat_2_sub: "Presentando presupuestos en el sitio",
        stat_3_value: "2â€“4 horas",
        stat_3_text: "Ahorradas por presupuesto",
        stat_3_sub: "Sin idas y venidas, sin cotizar por la noche",
        how_it_works_title: "CÃ³mo Funciona",
        step_1_title: "Graba Tu Recorrido",
        step_1_desc: "Elige el tipo de proyecto y el alcance.",
        step_2_title: "Ajusta Mano de Obra y Materiales",
        step_2_desc: "Modifica horas, equipo y materiales en tiempo real.",
        step_3_title: "EnvÃ­a un Presupuesto Profesional",
        step_3_desc: "Comparte al instante un PDF con tu marca con el cliente.",
        diff_title: "QuÃ© Hace a V2E Diferente",
        diff_1: "Construido por contratistas, no empresas de software",
        diff_2: "LÃ³gica laboral real â€” horas, equipos, productividad",
        diff_3: "LÃ³gica de precios transparente (sin caja negra de IA)",
        diff_4: "DiseÃ±ado para Contratistas Generales residenciales y remodeladores",
        diff_5: "Enfocado en ventas, no solo software de presupuestos",
        who_title: "Para QuiÃ©n Es Esto",
        perfect_for: "<i class=\"fa-solid fa-check-circle\"></i> Perfecto Para",
        perfect_1: "Contratistas Generales Residenciales",
        perfect_2: "Remodeladores",
        perfect_3: "Equipos pequeÃ±os a medianos (1â€“10 personas)",
        not_for: "<i class=\"fa-solid fa-xmark-circle\"></i> No Es Para",
        not_1: "Grandes proyectos comerciales",
        not_2: "Firmas de ingenierÃ­a",
        not_3: "Departamentos de presupuesto corporativos",
        contact_title: "Â¡Mira quÃ© rÃ¡pidos pueden ser tus presupuestos!",
        label_name: "Nombre",
        placeholder_name: "Tu Nombre",
        label_email: "Correo electrÃ³nico",
        placeholder_email: "Tu Correo ElectrÃ³nico",
        label_phone: "TelÃ©fono",
        placeholder_phone: "Tu NÃºmero de TelÃ©fono",
        btn_submit: "Unirse a la Lista de Acceso",
        footer_privacy: "PolÃ­tica de Privacidad",
        footer_terms: "TÃ©rminos de Servicio",
        footer_rights: "Â© 2025 V2E Builds. Todos los derechos reservados.",
        modal_title: "Comienza Tu Proyecto",
        modal_step1_q: "Â¿QuÃ© tipo de proyecto estÃ¡s planeando?",
        modal_step2_q: "CuÃ©ntanos un poco mÃ¡s sobre tu visiÃ³n.",
        modal_step2_placeholder: "Â¿CuÃ¡les son tus objetivos? Â¿Tienes un plazo en mente?",
        modal_step3_q: "Â¿CÃ³mo podemos contactarte?",
        btn_back: "AtrÃ¡s",
        btn_next: "Siguiente",
        opt_kitchen: "RemodelaciÃ³n de Cocina",
        opt_bathroom: "RenovaciÃ³n de BaÃ±o",
        opt_basement: "Acabado de SÃ³tano",
        opt_addition: "AdiciÃ³n de Vivienda",
        opt_adu: "ADU (Unidad de Vivienda Accesoria)",
        opt_transform: "TransformaciÃ³n Completa",
        qual_modal_title: "Â¡Un Ãšltimo Paso!",
        qual_modal_subtitle: "AyÃºdanos a entender tus necesidades para poder servirte mejor.",
        qual_q1: "Â¿CuÃ¡les son tus ingresos anuales y cuÃ¡nto tiempo llevas en el negocio?",
        qual_q1_placeholder: "ej., $500K/aÃ±o, 5 aÃ±os en el negocio",
        qual_q2: "Â¿CuÃ¡ntos presupuestos creas al mes y cuÃ¡l es tu tasa de Ã©xito?",
        qual_q2_placeholder: "ej., 20 presupuestos/mes, 30% de Ã©xito",
        qual_q3: "Â¿CuÃ¡l es tu mayor desafÃ­o o frustraciÃ³n al crear presupuestos?",
        qual_q3_placeholder: "CuÃ©ntanos quÃ© te retrasa...",
        qual_q4: "Â¿CuÃ¡nto tiempo dedicas a cada presupuesto y cuÃ¡nto te cuesta?",
        qual_q4_placeholder: "ej., 2-3 horas, cuesta $150 en tiempo",
        qual_q5: "Â¿CuÃ¡l serÃ­a un precio mensual justo para convertir presupuestos de horas a minutos?",
        qual_q5_placeholder: "ej., $50/mes, $200/mes, $500/mes?",
        qual_btn_submit: "Enviar"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const langSelector = document.querySelector('.language-selector');
    const currentLangDisplay = langSelector.querySelector('.lang-btn');
    const langMenu = langSelector.querySelector('.lang-menu');
    const langOptions = langMenu.querySelectorAll('li');
    const currentFlag = currentLangDisplay.querySelector('.lang-flag');
    const currentCode = currentLangDisplay.querySelector('.lang-code');

    // Toggle dropdown
    currentLangDisplay.addEventListener('click', (e) => {
        e.stopPropagation();
        langSelector.classList.toggle('active');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', () => {
        langSelector.classList.remove('active');
    });

    // Handle language selection
    langOptions.forEach(option => {
        option.addEventListener('click', () => {
            const lang = option.getAttribute('data-lang');
            const flag = option.getAttribute('data-flag');
            const code = option.getAttribute('data-code');

            setLanguage(lang, flag, code);
            langSelector.classList.remove('active');
        });
    });

    // Initialize language from local storage or default to 'en'
    const savedLang = localStorage.getItem('v2r_lang') || 'en';
    const langData = {
        'en': { flag: 'ðŸ‡ºðŸ‡¸', code: 'EN' },
        'pt': { flag: 'ðŸ‡§ðŸ‡·', code: 'PT' },
        'es': { flag: 'ðŸ‡ªðŸ‡¸', code: 'ES' }
    };

    if (langData[savedLang]) {
        setLanguage(savedLang, langData[savedLang].flag, langData[savedLang].code);
    } else {
        setLanguage('en', 'ðŸ‡ºðŸ‡¸', 'EN');
    }

    function setLanguage(lang, flag, code) {
        // Update UI
        currentCode.textContent = code;
        currentFlag.textContent = flag;
        localStorage.setItem('v2r_lang', lang);

        // Update active class in dropdown
        langOptions.forEach(opt => {
            if (opt.getAttribute('data-lang') === lang) {
                opt.classList.add('selected');
            } else {
                opt.classList.remove('selected');
            }
        });

        // Translate content
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][key]) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    // Do nothing for these here, handled by placeholder logic or if they have value
                } else {
                    element.innerHTML = translations[lang][key];
                }
            }
        });

        // Translate placeholders
        const inputs = document.querySelectorAll('[data-i18n-placeholder]');
        inputs.forEach(input => {
            const key = input.getAttribute('data-i18n-placeholder');
            if (translations[lang] && translations[lang][key]) {
                input.placeholder = translations[lang][key];
            }
        });
    }
});
